generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgres"
  url      = env("DATABASE_URL")
}

model Company {
  id Int @id @default(autoincrement())

  code String @default(cuid())
  slug String @unique

  name String @default("")

  svg            String @default("") @db.Text
  websiteMessage String @default("") @db.Text
  resumeMessage  String @default("") @db.Text
  color          String @default("#dadce0")
  png            Bytes  @default("")

  resumeUrl           String?
  resumeLastGenerated DateTime? @db.Timestamptz(0)

  created     DateTime @default(now()) @db.Timestamptz(0)
  lastUpdated DateTime @default(now()) @updatedAt @db.Timestamptz(0)

  active Boolean @default(true)

  @@index([slug, code])
}

model Reference {
  id       String  @id @default(cuid())
  name     String
  title    String
  company  String
  linkedIn String?

  photo String

  text String @db.Text

  order Int @default(99)
}
